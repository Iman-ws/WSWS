<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP-–∞–¥—Ä–µ—Å–∞—Ü–∏—è: –û–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 3px solid #667eea;
        }
        
        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            border: none;
            background: transparent;
            font-size: 1.1em;
        }
        
        .tab:hover {
            background: #e9ecef;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .theory-block {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }
        
        .theory-block h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .theory-block p {
            line-height: 1.8;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
        }
        
        table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }
        
        table tr:hover {
            background: #f8f9fa;
        }
        
        .input-group {
            margin: 20px 0;
        }
        
        .input-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #495057;
            font-size: 1.1em;
        }
        
        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1em;
            transition: border 0.3s;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 10px 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .result-box {
            background: #d4edda;
            border: 2px solid #28a745;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .error-box {
            background: #f8d7da;
            border: 2px solid #dc3545;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .step {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .step h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .step p {
            line-height: 1.6;
            font-size: 1.05em;
        }
        
        .ip-display {
            font-family: 'Courier New', monospace;
            background: #2c3e50;
            color: #2ecc71;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.3em;
            text-align: center;
            margin: 15px 0;
        }
        
        .quiz-option {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .quiz-option:hover {
            background: #e9ecef;
            border-color: #667eea;
        }
        
        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .quiz-option.wrong {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåê IP-–∞–¥—Ä–µ—Å–∞—Ü–∏—è —Å –Ω—É–ª—è</h1>
            <p>–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω—É</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showSection(0)">üìö –¢–µ–æ—Ä–∏—è</button>
            <button class="tab" onclick="showSection(1)">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
            <button class="tab" onclick="showSection(2)">üí™ –¢—Ä–µ–Ω–∞–∂–µ—Ä</button>
            <button class="tab" onclick="showSection(3)">üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞</button>
        </div>
        
        <div class="content">
            <!-- –†–ê–ó–î–ï–õ 1: –¢–ï–û–†–ò–Ø -->
            <div class="section active" id="section-0">
                <h2 style="color: #667eea; margin-bottom: 30px;">üìö –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ IP-–∞–¥—Ä–µ—Å?</h2>
                
                <div class="theory-block">
                    <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ IP-–∞–¥—Ä–µ—Å?</h3>
                    <p>IP-–∞–¥—Ä–µ—Å ‚Äî —ç—Ç–æ <span class="highlight">—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä</span> –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ —Å–µ—Ç–∏. –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ <span class="highlight">4 —á–∏—Å–µ–ª</span>, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–æ—á–∫–∞–º–∏.</p>
                    <div class="ip-display">192.168.10.1</div>
                    <p>–ö–∞–∂–¥–æ–µ —á–∏—Å–ª–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <span class="highlight">–æ–∫—Ç–µ—Ç</span> –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç <strong>0</strong> –¥–æ <strong>255</strong>.</p>
                </div>
                
                <div class="theory-block">
                    <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—Å–∫–∞ (Prefix)?</h3>
                    <p>–ú–∞—Å–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, <span class="highlight">–≥–¥–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –∞–¥—Ä–µ—Å —Å–µ—Ç–∏</span> –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (—Ö–æ—Å—Ç–∞).</p>
                    <p>–ü—Ä–∏–º–µ—Ä: <code>192.168.10.50<strong>/24</strong></code> ‚Äî —á–∏—Å–ª–æ –ø–æ—Å–ª–µ <strong>/</strong> —ç—Ç–æ –º–∞—Å–∫–∞.</p>
                    <p><strong>–ê–Ω–∞–ª–æ–≥–∏—è:</strong> –ü—Ä–µ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å –∫–∞–∫ "–£–ª–∏—Ü–∞ –ü—É—à–∫–∏–Ω–∞, –¥–æ–º 10, –∫–≤–∞—Ä—Ç–∏—Ä–∞ 5":</p>
                    <ul style="margin-left: 30px; line-height: 2;">
                        <li><strong>–£–ª–∏—Ü–∞</strong> = –∞–¥—Ä–µ—Å —Å–µ—Ç–∏ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–æ–≤ –Ω–∞ —É–ª–∏—Ü–µ)</li>
                        <li><strong>–ö–≤–∞—Ä—Ç–∏—Ä–∞</strong> = –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)</li>
                    </ul>
                </div>
                
                <div class="theory-block">
                    <h3>–ö–∞–∫–∏–µ –æ–∫—Ç–µ—Ç—ã –º—ã –º–µ–Ω—è–µ–º?</h3>
                    <p>–ú–∞—Å–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç, —Å –∫–∞–∫–∏–º –æ–∫—Ç–µ—Ç–æ–º —Ä–∞–±–æ—Ç–∞—Ç—å:</p>
                    <table>
                        <tr>
                            <th>–ú–∞—Å–∫–∞</th>
                            <th>–†–∞–±–æ—á–∏–π –æ–∫—Ç–µ—Ç</th>
                            <th>–ü—Ä–∏–º–µ—Ä</th>
                        </tr>
                        <tr>
                            <td>/1 ‚Äî /8</td>
                            <td>1-–π –æ–∫—Ç–µ—Ç</td>
                            <td>10.0.0.0 ‚Üí <strong>10</strong>.?.?.?</td>
                        </tr>
                        <tr>
                            <td>/9 ‚Äî /16</td>
                            <td>2-–π –æ–∫—Ç–µ—Ç</td>
                            <td>172.16.0.0 ‚Üí 172.<strong>16</strong>.?.?</td>
                        </tr>
                        <tr>
                            <td>/17 ‚Äî /24</td>
                            <td>3-–π –æ–∫—Ç–µ—Ç</td>
                            <td>192.168.10.0 ‚Üí 192.168.<strong>10</strong>.?</td>
                        </tr>
                        <tr>
                            <td>/25 ‚Äî /32</td>
                            <td>4-–π –æ–∫—Ç–µ—Ç</td>
                            <td>10.0.0.128 ‚Üí 10.0.0.<strong>128</strong></td>
                        </tr>
                    </table>
                </div>
                
                <div class="theory-block">
                    <h3>–ú–∞–≥–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ (–®–∞–≥ —Å–µ—Ç–∏)</h3>
                    <p>–≠—Ç–æ <span class="highlight">—Ä–∞–∑–º–µ—Ä –±–ª–æ–∫–∞</span> –∞–¥—Ä–µ—Å–æ–≤ –≤ –≤–∞—à–µ–π –ø–æ–¥—Å–µ—Ç–∏. –ó–∞–ø–æ–º–Ω–∏—Ç–µ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É:</p>
                    <table>
                        <tr>
                            <th>–ú–∞—Å–∫–∞</th>
                            <th>–®–∞–≥ (Magic Number)</th>
                            <th>–ú–∞—Å–∫–∞ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–º –≤–∏–¥–µ</th>
                        </tr>
                        <tr><td>/25</td><td>128</td><td>.128</td></tr>
                        <tr><td>/26</td><td>64</td><td>.192</td></tr>
                        <tr><td>/27</td><td>32</td><td>.224</td></tr>
                        <tr><td>/28</td><td>16</td><td>.240</td></tr>
                        <tr><td>/29</td><td>8</td><td>.248</td></tr>
                        <tr><td>/30</td><td>4</td><td>.252</td></tr>
                    </table>
                    <p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –°–µ—Ç–∏ –∏–¥—É—Ç —Å —ç—Ç–∏–º —à–∞–≥–æ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è /26 (—à–∞–≥ 64): 0, 64, 128, 192.</p>
                </div>
            </div>
            
            <!-- –†–ê–ó–î–ï–õ 2: –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† -->
            <div class="section" id="section-1">
                <h2 style="color: #667eea; margin-bottom: 30px;">üßÆ –ü–æ—à–∞–≥–æ–≤—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
                
                <div class="input-group">
                    <label>–í–≤–µ–¥–∏—Ç–µ IP-–∞–¥—Ä–µ—Å:</label>
                    <input type="text" id="calc-ip" placeholder="192.168.10.50" value="75.149.221.150">
                </div>
                
                <div class="input-group">
                    <label>–í–≤–µ–¥–∏—Ç–µ –º–∞—Å–∫—É (–ø—Ä–µ—Ñ–∏–∫—Å):</label>
                    <input type="number" id="calc-mask" placeholder="24" value="18" min="1" max="32">
                </div>
                
                <button class="btn" onclick="calculate()">üîç –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º</button>
                
                <div id="calc-result"></div>
            </div>
            
            <!-- –†–ê–ó–î–ï–õ 3: –¢–†–ï–ù–ê–ñ–ï–† -->
            <div class="section" id="section-2">
                <h2 style="color: #667eea; margin-bottom: 30px;">üí™ –¢—Ä–µ–Ω–∞–∂–µ—Ä</h2>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progress" style="width: 0%">0/10</div>
                </div>
                
                <div id="quiz-container"></div>
                
                <button class="btn" onclick="startQuiz()">üéØ –ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç</button>
            </div>
            
            <!-- –†–ê–ó–î–ï–õ 4: –®–ü–ê–†–ì–ê–õ–ö–ê -->
            <div class="section" id="section-3">
                <h2 style="color: #667eea; margin-bottom: 30px;">üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞</h2>
                
                <div class="theory-block">
                    <h3>–¢–∞–±–ª–∏—Ü–∞ –º–∞—Å–æ–∫ –∏ —à–∞–≥–æ–≤</h3>
                    <table>
                        <tr>
                            <th>CIDR</th>
                            <th>–®–∞–≥</th>
                            <th>–î–µ—Å—è—Ç–∏—á–Ω–∞—è –º–∞—Å–∫–∞</th>
                            <th>–ö–æ–ª-–≤–æ —Ö–æ—Å—Ç–æ–≤</th>
                        </tr>
                        <tr><td>/24</td><td>256</td><td>255.255.255.0</td><td>254</td></tr>
                        <tr><td>/25</td><td>128</td><td>255.255.255.128</td><td>126</td></tr>
                        <tr><td>/26</td><td>64</td><td>255.255.255.192</td><td>62</td></tr>
                        <tr><td>/27</td><td>32</td><td>255.255.255.224</td><td>30</td></tr>
                        <tr><td>/28</td><td>16</td><td>255.255.255.240</td><td>14</td></tr>
                        <tr><td>/29</td><td>8</td><td>255.255.255.248</td><td>6</td></tr>
                        <tr><td>/30</td><td>4</td><td>255.255.255.252</td><td>2</td></tr>
                    </table>
                </div>
                
                <div class="theory-block">
                    <h3>–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ—à–µ–Ω–∏—è</h3>
                    <div class="step">
                        <h4>–®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏ —Ä–∞–±–æ—á–∏–π –æ–∫—Ç–µ—Ç</h4>
                        <p>/1-/8 = 1-–π | /9-/16 = 2-–π | /17-/24 = 3-–π | /25-/32 = 4-–π</p>
                    </div>
                    <div class="step">
                        <h4>–®–∞–≥ 2: –ù–∞–π–¥–∏ "—à–∞–≥" –∏–∑ —Ç–∞–±–ª–∏—Ü—ã</h4>
                        <p>–ù–∞–ø—Ä–∏–º–µ—Ä, /26 ‚Üí —à–∞–≥ 64</p>
                    </div>
                    <div class="step">
                        <h4>–®–∞–≥ 3: –ü–æ—Å—Ç—Ä–æ–π "–ª–µ—Å—Ç–Ω–∏—Ü—É"</h4>
                        <p>0, 64, 128, 192, 256...</p>
                    </div>
                    <div class="step">
                        <h4>–®–∞–≥ 4: –ù–∞–π–¥–∏, –∫—É–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç —á–∏—Å–ª–æ</h4>
                        <p>–ï—Å–ª–∏ —á–∏—Å–ª–æ 150, –æ–Ω–æ –º–µ–∂–¥—É 128 –∏ 192</p>
                    </div>
                    <div class="step">
                        <h4>–®–∞–≥ 5: Network = –Ω–∞—á–∞–ª–æ, Broadcast = –∫–æ–Ω–µ—Ü - 1</h4>
                        <p>Network: .128 | Broadcast: .191</p>
                    </div>
                </div>
                
                <div class="theory-block">
                    <h3>–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —ç–∫–∑–∞–º–µ–Ω–∞</h3>
                    <table>
                        <tr>
                            <th>IP/–ú–∞—Å–∫–∞</th>
                            <th>Network</th>
                            <th>First Host</th>
                            <th>Last Host</th>
                            <th>Broadcast</th>
                        </tr>
                        <tr>
                            <td>28.112.99.22/24</td>
                            <td>28.112.99.0</td>
                            <td>28.112.99.1</td>
                            <td>28.112.99.254</td>
                            <td>28.112.99.255</td>
                        </tr>
                        <tr>
                            <td>192.169.10.1/25</td>
                            <td>192.169.10.0</td>
                            <td>192.169.10.1</td>
                            <td>192.169.10.126</td>
                            <td>192.169.10.127</td>
                        </tr>
                        <tr>
                            <td>99.240.132.206/30</td>
                            <td>99.240.132.204</td>
                            <td>99.240.132.205</td>
                            <td>99.240.132.206</td>
                            <td>99.240.132.207</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤
        function showSection(index) {
            const sections = document.querySelectorAll('.section');
            const tabs = document.querySelectorAll('.tab');
            
            sections.forEach(s => s.classList.remove('active'));
            tabs.forEach(t => t.classList.remove('active'));
            
            sections[index].classList.add('active');
            tabs[index].classList.add('active');
        }
        
        // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä IP
        function calculate() {
            const ipInput = document.getElementById('calc-ip').value;
            const maskInput = parseInt(document.getElementById('calc-mask').value);
            const resultDiv = document.getElementById('calc-result');
            
            try {
                const octets = ipInput.split('.').map(o => parseInt(o));
                
                if (octets.length !== 4 || octets.some(o => isNaN(o) || o < 0 || o > 255)) {
                    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç IP');
                }
                
                if (maskInput < 1 || maskInput > 32) {
                    throw new Error('–ú–∞—Å–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 1 –¥–æ 32');
                }
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–±–æ—á–∏–π –æ–∫—Ç–µ—Ç
                let workingOctet;
                if (maskInput <= 8) workingOctet = 0;
                else if (maskInput <= 16) workingOctet = 1;
                else if (maskInput <= 24) workingOctet = 2;
                else workingOctet = 3;
                
                // –í—ã—á–∏—Å–ª—è–µ–º —à–∞–≥
                const bitsInOctet = maskInput - (workingOctet * 8);
                const step = Math.pow(2, 8 - bitsInOctet);
                
                // –ù–∞—Ö–æ–¥–∏–º –∞–¥—Ä–µ—Å —Å–µ—Ç–∏
                const networkOctets = [...octets];
                networkOctets[workingOctet] = Math.floor(octets[workingOctet] / step) * step;
                for (let i = workingOctet + 1; i < 4; i++) {
                    networkOctets[i] = 0;
                }
                
                // –ù–∞—Ö–æ–¥–∏–º broadcast
                const broadcastOctets = [...networkOctets];
                broadcastOctets[workingOctet] = networkOctets[workingOctet] + step - 1;
                for (let i = workingOctet + 1; i < 4; i++) {
                    broadcastOctets[i] = 255;
                }
                
                // –í—ã—á–∏—Å–ª—è–µ–º –º–∞—Å–∫—É
                const subnetMask = [];
                for (let i = 0; i < 4; i++) {
                    if (i < workingOctet) {
                        subnetMask.push(255);
                    } else if (i === workingOctet) {
                        subnetMask.push(256 - step);
                    } else {
                        subnetMask.push(0);
                    }
                }
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                let html = '<div class="result-box">';
                html += '<h3>‚úÖ –†–µ—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ!</h3>';
                
                html += '<div class="step">';
                html += '<h4>–®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–±–æ—á–∏–π –æ–∫—Ç–µ—Ç</h4>';
                html += `<p>–ú–∞—Å–∫–∞ /${maskInput} –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω: `;
                if (workingOctet === 0) html += '/1-/8 ‚Üí —Ä–∞–±–æ—Ç–∞–µ–º —Å <strong>1-–º –æ–∫—Ç–µ—Ç–æ–º</strong>';
                else if (workingOctet === 1) html += '/9-/16 ‚Üí —Ä–∞–±–æ—Ç–∞–µ–º —Å–æ <strong>2-–º –æ–∫—Ç–µ—Ç–æ–º</strong>';
                else if (workingOctet === 2) html += '/17-/24 ‚Üí —Ä–∞–±–æ—Ç–∞–µ–º —Å <strong>3-–º –æ–∫—Ç–µ—Ç–æ–º</strong>';
                else html += '/25-/32 ‚Üí —Ä–∞–±–æ—Ç–∞–µ–º —Å <strong>4-–º –æ–∫—Ç–µ—Ç–æ–º</strong>';
                html += '</p></div>';
                
                html += '<div class="step">';
                html += '<h4>–®–∞–≥ 2: –í—ã—á–∏—Å–ª—è–µ–º "—à–∞–≥" (Magic Number)</h4>';
                html += `<p>–í —Ä–∞–±–æ—á–µ–º –æ–∫—Ç–µ—Ç–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–æ <strong>${bitsInOctet}</strong> –±–∏—Ç(–∞).<br>`;
                html += `–§–æ—Ä–º—É–ª–∞: 2<sup>${8 - bitsInOctet}</sup> = <strong>${step}</strong></p>`;
                html += `<p>–°–µ—Ç–∏ –∏–¥—É—Ç —Å —à–∞–≥–æ–º: 0, ${step}, ${step*2}, ${step*3}...</p>`;
                html += '</div>';
                
                html += '<div class="step">';
                html += '<h4>–®–∞–≥ 3: –ù–∞—Ö–æ–¥–∏–º –∞–¥—Ä–µ—Å —Å–µ—Ç–∏</h4>';
                html += `<p>–†–∞–±–æ—á–µ–µ —á–∏—Å–ª–æ: <strong>${octets[workingOctet]}</strong><br>`;
                html += `–û–Ω–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω –º–µ–∂–¥—É <strong>${networkOctets[workingOctet]}</strong> –∏ <strong>${networkOctets[workingOctet] + step}</strong></p>`;
                html += `<p class="ip-display">Network Address: ${networkOctets.join('.')}</p>`;
                html += '</div>';
                
                html += '<div class="step">';
                html += '<h4>–®–∞–≥ 4: –ù–∞—Ö–æ–¥–∏–º Broadcast</h4>';
                html += `<p>–°–ª–µ–¥—É—é—â–∞—è —Å–µ—Ç—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å ${networkOctets[workingOctet] + step}, –∑–Ω–∞—á–∏—Ç –Ω–∞—à–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ ${networkOctets[workingOctet] + step - 1}</p>`;
                html += `<p class="ip-display">Broadcast Address: ${broadcastOctets.join('.')}</p>`;
                html += '</div>';
                
                html += '<div class="step">';
                html += '<h4>–®–∞–≥ 5: –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞</h4>';
                html += '<table>';
                html += '<tr><th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th><th>–ó–Ω–∞—á–µ–Ω–∏–µ</th></tr>';
                html += `<tr><td>Network Address</td><td><strong>${networkOctets.join('.')}</strong></td></tr>`;
                
                const firstHost = [...networkOctets];
                firstHost[3]++;
                html += `<tr><td>First Host</td><td><strong>${firstHost.join('.')}</strong></td></tr>`;
                
                const lastHost = [...broadcastOctets];
                lastHost[3]--;
                html += `<tr><td>Last Host</td><td><strong>${lastHost.join('.')}</strong></td></tr>`;
                
                html += `<tr><td>Broadcast Address</td><td><strong>${broadcastOctets.join('.')}</strong></td></tr>`;
                html += `<tr><td>Subnet Mask</td><td><strong>${subnetMask.join('.')}</strong></td></tr>`;
                html += '</table></div>';
                
                html += '</div>';
                resultDiv.innerHTML = html;
                
            } catch (error) {
                resultDiv.innerHTML = `<div class="error-box"><strong>‚ùå –û—à–∏–±–∫–∞:</strong> ${error.message}</div>`;
            }
        }
        
        // –¢—Ä–µ–Ω–∞–∂–µ—Ä
        let quizQuestions = [];
        let currentQuestion = 0;
        let correctAnswers = 0;
        
        function generateQuizQuestion() {
            const masks = [24, 25, 26, 27, 28, 29, 30];
            const mask = masks[Math.floor(Math.random() * masks.length)];
            
            const oct1 = Math.floor(Math.random() * 223) + 1;
            const oct2 = Math.floor(Math.random() * 255);
            const oct3 = Math.floor(Math.random() * 255);
            const oct4 = Math.floor(Math.random() * 255);
            
            const ip = `${oct1}.${oct2}.${oct3}.${oct4}`;
            
            // –í—ã—á–∏—Å–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
            const octets = [oct1, oct2, oct3, oct4];
            const workingOctet = mask <= 8 ? 0 : mask <= 16 ? 1 : mask <= 24 ? 2 : 3;
            const bitsInOctet = mask - (workingOctet * 8);
            const step = Math.pow(2, 8 - bitsInOctet);
            
            const networkOctets = [...octets];
            networkOctets[workingOctet] = Math.floor(octets[workingOctet] / step) * step;
            for (let i = workingOctet + 1; i < 4; i++) {
                networkOctets[i] = 0;
            }
            
            const correct = networkOctets.join('.');
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
            const wrong1 = [...networkOctets];
            wrong1[workingOctet] += step;
            
            const wrong2 = [...networkOctets];
            wrong2[workingOctet] = wrong2[workingOctet] > 0 ? wrong2[workingOctet] - step : step;
            
            const wrong3 = [...octets];
            wrong3[3] = 0;
            
            const answers = [
                { text: correct, correct: true },
                { text: wrong1.join('.'), correct: false },
                { text: wrong2.join('.'), correct: false },
                { text: wrong3.join('.'), correct: false }
            ].sort(() => Math.random() - 0.5);
            
            return {
                question: `–ù–∞–π–¥–∏—Ç–µ –∞–¥—Ä–µ—Å —Å–µ—Ç–∏ –¥–ª—è IP: ${ip}/${mask}`,
                answers: answers,
                ip: ip,
                mask: mask
            };
        }
        
        function startQuiz() {
            quizQuestions = [];
            for (let i = 0; i < 10; i++) {
                quizQuestions.push(generateQuizQuestion());
            }
            currentQuestion = 0;
            correctAnswers = 0;
            showQuizQuestion();
        }
        
        function showQuizQuestion() {
            if (currentQuestion >= quizQuestions.length) {
                const container = document.getElementById('quiz-container');
                const percent = (correctAnswers / quizQuestions.length * 100).toFixed(0);
                let grade = percent >= 90 ? 'üèÜ –û—Ç–ª–∏—á–Ω–æ!' : percent >= 70 ? 'üëç –•–æ—Ä–æ—à–æ!' : percent >= 50 ? 'üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ' : 'üò¢ –ù—É–∂–Ω–æ –µ—â–µ –ø–æ—É—á–∏—Ç—å';
                
                container.innerHTML = `
                    <div class="result-box" style="text-align: center;">
                        <h2>${grade}</h2>
                        <p style="font-size: 2em; margin: 20px 0;">${correctAnswers}/${quizQuestions.length}</p>
                        <p style="font-size: 1.3em;">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${percent}%</p>
                    </div>
                `;
                return;
            }
            
            const q = quizQuestions[currentQuestion];
            const container = document.getElementById('quiz-container');
            
            let html = `
                <div style="background: #f8f9fa; padding: 25px; border-radius: 10px; margin: 20px 0;">
                    <h3 style="color: #667eea; margin-bottom: 20px;">–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${quizQuestions.length}</h3>
                    <p style="font-size: 1.3em; margin-bottom: 20px;">${q.question}</p>
                    <div id="quiz-answers">
            `;
            
            q.answers.forEach((answer, index) => {
                html += `
                    <div class="quiz-option" onclick="checkAnswer(${index})">
                        ${String.fromCharCode(65 + index)}. ${answer.text}
                    </div>
                `;
            });
            
            html += '</div></div>';
            container.innerHTML = html;
            
            updateProgress();
        }
        
        function checkAnswer(index) {
            const q = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((opt, i) => {
                opt.style.pointerEvents = 'none';
                if (q.answers[i].correct) {
                    opt.classList.add('correct');
                } else if (i === index) {
                    opt.classList.add('wrong');
                }
            });
            
            if (q.answers[index].correct) {
                correctAnswers++;
            }
            
            setTimeout(() => {
                currentQuestion++;
                showQuizQuestion();
            }, 1500);
        }
        
        function updateProgress() {
            const progress = document.getElementById('progress');
            const percent = (currentQuestion / quizQuestions.length * 100);
            progress.style.width = percent + '%';
            progress.textContent = `${currentQuestion}/${quizQuestions.length}`;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            startQuiz();
        };
    </script>
</body>
</html>
